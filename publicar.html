<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Publica tus productos de segunda mano en nuestra plataforma. Es fácil, rápido y seguro.">
    <title>Publicar Artículo - Tienda de Segunda Mano</title>
        <!-- Favicon -->
    <link rel="icon" href="imagenes/favicon.png" type="image/png">
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="imagenes/logo.png" alt="Logo de la Tienda">
            <h1>Tienda de Segunda Mano</h1>
        </div>
        <div class="busqueda">
            <input type="text" placeholder="Buscar productos...">
            <button>Buscar</button>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="Index.html">Inicio</a></li>
            <li><a href="categorias.html">Categorías</a></li>
            <li><a href="publicar.html" class="activo">Publicar Artículo</a></li>
            <li><a href="perfil.html">Mi Perfil</a></li>
            <li><a href="ayuda.html">Ayuda</a></li>
        </ul>
    </nav>

    <main>
        <section class="introduccion">
            <h2>Publicar un Nuevo Artículo</h2>
            <p>Completa el formulario para poner a la venta tu producto de segunda mano.</p>
        </section>

        <form class="form-publicar" id="formPublicar" onsubmit="validarFormulario(event)">
            <div class="form-group">
                <label for="nombreProducto">Nombre del Producto:</label>
                <input type="text" id="nombreProducto" name="nombreProducto" required placeholder="Ej: Auriculares Bluetooth">
            </div>

            <div class="form-group">
                <label for="descripcion">Descripción:</label>
                <textarea id="descripcion" name="descripcion" rows="5" required placeholder="Describe tu producto en detalle..."></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="precio">Precio ($):</label>
                    <input type="number" id="precio" name="precio" step="0.01" min="0" required placeholder="0.00">
                </div>

                <div class="form-group">
                    <label for="estado">Estado del Producto:</label>
                    <select id="estado" name="estado" required>
                        <option value="">Selecciona...</option>
                        <option value="excelente">Excelente</option>
                        <option value="muy-bueno">Muy Bueno</option>
                        <option value="bueno">Bueno</option>
                        <option value="aceptable">Aceptable</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="categoria">Categoría:</label>
                <select id="categoria" name="categoria" required>
                    <option value="">Selecciona una categoría...</option>
                    <option value="electronica">Electrónica</option>
                    <option value="ropa">Ropa y Accesorios</option>
                    <option value="hogar">Hogar y Cocina</option>
                    <option value="libros">Libros y Música</option>
                    <option value="juguetes">Juguetes y Videojuegos</option>
                    <option value="deportes">Deportes</option>
                    <option value="automotriz">Automotriz</option>
                    <option value="arte">Arte y Antigüedades</option>
                </select>
            </div>

            <div class="form-group">
                <label for="ubicacion">Ubicación:</label>
                <input type="text" id="ubicacion" name="ubicacion" placeholder="Ciudad, Estado" required>
            </div>

            <div class="form-group">
                <label for="imagen">Imagen del Producto:</label>
                <input type="file" id="imagen" name="imagen" accept="image/*" required>
                <small>Formatos aceptados: JPG, PNG. Tamaño máximo: 5MB</small>
                <div id="preview-imagen" class="preview-imagen"></div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-publicar">Publicar Artículo</button>
                <button type="reset" class="btn-cancelar">Limpiar Formulario</button>
            </div>
        </form>
    </main>

    <footer>
        <p>&copy; <span id="year">2025</span> Tienda de Segunda Mano. Todos los derechos reservados.</p>
        <p><a href="#">Contacto</a> | <a href="#">Términos de Uso</a> | <a href="#">Política de Privacidad</a></p>
    </footer>

    <script src="script.js"></script>
    <script>
        // Preview de imagen
        document.addEventListener('DOMContentLoaded', function() {
            const imagenInput = document.getElementById('imagen');
            if (imagenInput) {
                imagenInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    const preview = document.getElementById('preview-imagen');
                    
                    if (file) {
                        // Validar tamaño (5MB máximo)
                        if (file.size > 5 * 1024 * 1024) {
                            alert('La imagen es demasiado grande. Por favor selecciona una imagen menor a 5MB.');
                            e.target.value = '';
                            return;
                        }
                        
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            preview.innerHTML = '<img src="' + e.target.result + '" alt="Vista previa">';
                        };
                        reader.readAsDataURL(file);
                    } else {
                        preview.innerHTML = '';
                    }
                });
            }
        });

        // Validación del formulario
        function validarFormulario(e) {
            e.preventDefault();
            const form = e.target;
            const precio = parseFloat(form.precio.value);
            
            if (precio <= 0) {
                alert('Por favor ingresa un precio válido mayor a $0.00');
                return false;
            }
            
            if (form.nombreProducto.value.length < 5) {
                alert('El nombre del producto debe tener al menos 5 caracteres');
                return false;
            }
            
            if (form.descripcion.value.length < 20) {
                alert('La descripción debe tener al menos 20 caracteres');
                return false;
            }
            
            prevenirDobleEnvio(form);
            alert('¡Artículo publicado exitosamente! (Simulación)');
            // En un proyecto real, aquí se enviaría al servidor
            return true;
        }
    </script>
</body>
</html>
